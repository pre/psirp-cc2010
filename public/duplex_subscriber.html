<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:svg="http://www.w3.org/2000/svg"
	xmlns:xlink="http://www.w3.org/1999/xlink"
	xml:lang="en" lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

  <script src="javascript/jquery-1.4.2.js"></script>
  <script type="text/ecmascript" src="javascript/duplex_subscriber.js"></script>
  <script type="text/ecmascript">
    var subscriber = null;
    var wsAddress = "ws://192.168.2.3:80/duplex_subscriber";
    var sid = "::aa";
    var rid = "::bb";
    
    window.onload = function() {
      $('.seat').each(function() {
        this.onclick = function() {
          alert("toimii! id: "+ this.id);
          return false;
        }
      });
      
      var pub_element_id = "#publishment"
      subscriber = new Subscriber(wsAddress, pub_element_id, sid, rid, "a1");
    }
  </script>

  <style type="text/css">
    .seat {
      width:  50px;
      height: 50px;
      border: 1px black dotted;
      float:  left;
    }
    
    fieldset {
      clear:  both;
    }
    
    .sold {
      border-color: red;
    }
    
    .available {
      border-color: green;
    }
    
    .reserved {
      border-color: yellow;
    }

  </style>
</head>

<body>

<h1>Interaction experiment</h1>

<button onclick="subscriber.sendButtonEvent(this.value);" value="value_attr in html!">Et uskalla painaa!</button>

<h2>Debug</h2>
<div id="debug"></div>

<fieldset class="seats">
  <legend>Seats in Theatre X</legend>
    <div class="seat" id="a1" onclick="subscriber.toggleSeatStatus(this.id)">JES</div>
    <div class="seat" id="a2">image</div>
    <div class="seat" id="a3">from</div>
    <div class="seat" id="a4">psirp</div>
</fieldset>

<fieldset>
  <legend>Received data</legend>
  <div id="publishment"></div>
</fieldset>

</body>

</html>