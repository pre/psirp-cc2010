TODO: 
dokumentoi protokolla
 psirppiin vain jsonia


Unhandled situations in implementation:

- escaping of content
- access control
- race conditions, eg. two browsers send the same reservation at once. who should win?


Something is wrong with advance subscriptions..

When I subscribe to a RID, I don't get its updates before the second update.
This might have something to do with combining synchronous and asynchronous
subscriptions.

Event_example.py works, but it is not helpful, because it does not give an
example of how to use handle_event() without global variables. At my project
work I would have needed to make the websocket a global variable.

API does not support requesting a RID's content before entering the listen()
loop. 

The init_handle_event() method feels like a hack because there is no
example of how to actually use the received publishment in the caller. The example of doing a print() is not especially useful.

API is confusing at times
 instead of having both
   PubSubKQueue#register_advance_subscription
 and 
   PubSubKQueue#reg_adv_sub_s
it would probably be more consistent to have only one method and allow a parameter to define the format of sid&rid.


Blackhawk crashes the whole FreeBSD very often. The cause might also be the Python webserver, but the system has crashed also without it.

May 13 18:27:51 blackhawk kernel: Freed UMA keg was not empty (34 items).  Lost 3 pages of memory.
May 13 18:27:51 blackhawk kernel: psfs: unloaded from 210
May 13 18:27:51 blackhawk kernel: Warning: memory type psmeta leaked memory on destroy (9 allocations, 576 bytes leak
ed).
May 13 18:27:52 blackhawk kernel: WARNING: attempt to net_add_domain(pubsub) after domainfinalize()
May 13 18:27:52 blackhawk kernel: psfs: loaded at 210
May 13 18:27:53 blackhawk kernel: ps_obj_get_type: Metadata does not exist!
May 13 18:27:53 blackhawk kernel: ps_syscall_get_rid: WARNING: attempt to access scope with bad type 1
